<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.6.12 (471320)"/><meta name="altitude" content="40.02052307128906"/><meta name="author" content="uq2bca3m"/><meta name="created" content="2023-06-02 07:07:41 +0000"/><meta name="latitude" content="39.9950750978472"/><meta name="longitude" content="116.4745484212986"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2023-06-02 07:16:34 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>80. 删除有序数组中的重复项 II</title></head><body><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">给你一个有序数组 nums ，请你 原地 删除重复出现的元素，使得出现次数超过两次的元素只出现两次 ，返回删除后数组的新长度。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">不要使用额外的数组空间，你必须在 原地 修改输入数组 并在使用 O(1) 额外空间的条件下完成。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"/>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">说明：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">为什么返回数值是整数，但输出的答案是数组呢？</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">请注意，输入数组是以「引用」方式传递的，这意味着在函数里修改输入数组对于调用者是可见的。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">你可以想象内部操作如下:</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">// nums 是以“引用”方式传递的。也就是说，不对实参做任何拷贝<br/>
int len = removeDuplicates(nums);</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">// 在函数里修改输入数组对于调用者是可见的。<br/>
// 根据你的函数返回的长度, 它会打印出数组中 该长度范围内 的所有元素。<br/>
for (int i = 0; i &lt; len; i++) {<br/>&nbsp;&nbsp;&nbsp;&nbsp; print(nums[i]); <br/>
}</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">示例 1：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">输入：nums = [1,1,1,2,2,3]<br/>
输出：5, nums = [1,1,2,2,3]<br/>
解释：函数应返回新长度 length = 5, 并且原数组的前五个元素被修改为 1, 1, 2, 2, 3 。 不需要考虑数组中超出新长度后面的元素。<br/>
示例 2：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">输入：nums = [0,0,1,1,1,1,2,3,3]<br/>
输出：7, nums = [0,0,1,1,2,3,3]<br/>
解释：函数应返回新长度 length = 7, 并且原数组的前五个元素被修改为&nbsp;&nbsp;0, 0, 1, 1, 2, 3, 3 。 不需要考虑数组中超出新长度后面的元素。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">提示：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">1 &lt;= nums.length &lt;= 3 * 104<br/>
-104 &lt;= nums[i] &lt;= 104<br/>
nums 已按升序排列<br/>
通过次数236,606提交次数383,376</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">解法一:原创</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">Hash法,记录元素以及元素对应出现的次数</li>
</ol>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span>:</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">def</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">removeDuplicates</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(self, nums: List[int])</span> -&gt; int:</span>
        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># 超过两次的数据只保留两次,所以这道题大概率需要计数</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">not</span> nums:
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        dic = {}
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> i <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> nums:
            dic[i] = nums.count(i)
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> k, v <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> dic.items():
            <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># print(k, v)</span>
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">while</span> v &gt; <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>:
                nums.remove(k)
                v -= <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
            <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># print(nums)</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> len(nums)
        
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">双指针法:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span>:</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">def</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">removeDuplicates</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(self, nums: List[int])</span> -&gt; int:</span>
        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># 超过两次的数据只保留两次,所以这道题大概率需要计数</span>
        n = len(nums)
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> n &lt; <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>:
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> n
        fast = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>
        slow = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">while</span> fast &lt; n:
            <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># slow其实已经是第三个元素了,前两个不用管,要换也是从第三个元素开始换</span>
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> nums[fast] != nums[slow<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-2</span>]: <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># slow-2 和 fast定住区间</span>
                nums[slow] = nums[fast]
                slow += <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
            fast += <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> slow
        
</code></pre>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%20nums%20%EF%BC%8C%E8%AF%B7%E4%BD%A0%20%E5%8E%9F%E5%9C%B0%20%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E5%87%BA%E7%8E%B0%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E4%BD%BF%E5%BE%97%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%E8%B6%85%E8%BF%87%E4%B8%A4%E6%AC%A1%E7%9A%84%E5%85%83%E7%B4%A0%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%A4%E6%AC%A1%20%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%88%A0%E9%99%A4%E5%90%8E%E6%95%B0%E7%BB%84%E7%9A%84%E6%96%B0%E9%95%BF%E5%BA%A6%E3%80%82%0A%0A%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8%E9%A2%9D%E5%A4%96%E7%9A%84%E6%95%B0%E7%BB%84%E7%A9%BA%E9%97%B4%EF%BC%8C%E4%BD%A0%E5%BF%85%E9%A1%BB%E5%9C%A8%20%E5%8E%9F%E5%9C%B0%20%E4%BF%AE%E6%94%B9%E8%BE%93%E5%85%A5%E6%95%B0%E7%BB%84%20%E5%B9%B6%E5%9C%A8%E4%BD%BF%E7%94%A8%20O(1)%20%E9%A2%9D%E5%A4%96%E7%A9%BA%E9%97%B4%E7%9A%84%E6%9D%A1%E4%BB%B6%E4%B8%8B%E5%AE%8C%E6%88%90%E3%80%82%0A%0A%C2%A0%0A%0A%E8%AF%B4%E6%98%8E%EF%BC%9A%0A%0A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%94%E5%9B%9E%E6%95%B0%E5%80%BC%E6%98%AF%E6%95%B4%E6%95%B0%EF%BC%8C%E4%BD%86%E8%BE%93%E5%87%BA%E7%9A%84%E7%AD%94%E6%A1%88%E6%98%AF%E6%95%B0%E7%BB%84%E5%91%A2%EF%BC%9F%0A%0A%E8%AF%B7%E6%B3%A8%E6%84%8F%EF%BC%8C%E8%BE%93%E5%85%A5%E6%95%B0%E7%BB%84%E6%98%AF%E4%BB%A5%E3%80%8C%E5%BC%95%E7%94%A8%E3%80%8D%E6%96%B9%E5%BC%8F%E4%BC%A0%E9%80%92%E7%9A%84%EF%BC%8C%E8%BF%99%E6%84%8F%E5%91%B3%E7%9D%80%E5%9C%A8%E5%87%BD%E6%95%B0%E9%87%8C%E4%BF%AE%E6%94%B9%E8%BE%93%E5%85%A5%E6%95%B0%E7%BB%84%E5%AF%B9%E4%BA%8E%E8%B0%83%E7%94%A8%E8%80%85%E6%98%AF%E5%8F%AF%E8%A7%81%E7%9A%84%E3%80%82%0A%0A%E4%BD%A0%E5%8F%AF%E4%BB%A5%E6%83%B3%E8%B1%A1%E5%86%85%E9%83%A8%E6%93%8D%E4%BD%9C%E5%A6%82%E4%B8%8B%3A%0A%0A%2F%2F%20nums%20%E6%98%AF%E4%BB%A5%E2%80%9C%E5%BC%95%E7%94%A8%E2%80%9D%E6%96%B9%E5%BC%8F%E4%BC%A0%E9%80%92%E7%9A%84%E3%80%82%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%EF%BC%8C%E4%B8%8D%E5%AF%B9%E5%AE%9E%E5%8F%82%E5%81%9A%E4%BB%BB%E4%BD%95%E6%8B%B7%E8%B4%9D%0Aint%20len%20%3D%20removeDuplicates(nums)%3B%0A%0A%2F%2F%20%E5%9C%A8%E5%87%BD%E6%95%B0%E9%87%8C%E4%BF%AE%E6%94%B9%E8%BE%93%E5%85%A5%E6%95%B0%E7%BB%84%E5%AF%B9%E4%BA%8E%E8%B0%83%E7%94%A8%E8%80%85%E6%98%AF%E5%8F%AF%E8%A7%81%E7%9A%84%E3%80%82%0A%2F%2F%20%E6%A0%B9%E6%8D%AE%E4%BD%A0%E7%9A%84%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E7%9A%84%E9%95%BF%E5%BA%A6%2C%20%E5%AE%83%E4%BC%9A%E6%89%93%E5%8D%B0%E5%87%BA%E6%95%B0%E7%BB%84%E4%B8%AD%20%E8%AF%A5%E9%95%BF%E5%BA%A6%E8%8C%83%E5%9B%B4%E5%86%85%20%E7%9A%84%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0%E3%80%82%0Afor%20(int%20i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B)%20%7B%0A%C2%A0%20%C2%A0%20print(nums%5Bi%5D)%3B%0A%7D%0A%C2%A0%0A%0A%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%0A%0A%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B1%2C1%2C1%2C2%2C2%2C3%5D%0A%E8%BE%93%E5%87%BA%EF%BC%9A5%2C%20nums%20%3D%20%5B1%2C1%2C2%2C2%2C3%5D%0A%E8%A7%A3%E9%87%8A%EF%BC%9A%E5%87%BD%E6%95%B0%E5%BA%94%E8%BF%94%E5%9B%9E%E6%96%B0%E9%95%BF%E5%BA%A6%20length%20%3D%205%2C%20%E5%B9%B6%E4%B8%94%E5%8E%9F%E6%95%B0%E7%BB%84%E7%9A%84%E5%89%8D%E4%BA%94%E4%B8%AA%E5%85%83%E7%B4%A0%E8%A2%AB%E4%BF%AE%E6%94%B9%E4%B8%BA%201%2C%201%2C%202%2C%202%2C%203%20%E3%80%82%20%E4%B8%8D%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E6%95%B0%E7%BB%84%E4%B8%AD%E8%B6%85%E5%87%BA%E6%96%B0%E9%95%BF%E5%BA%A6%E5%90%8E%E9%9D%A2%E7%9A%84%E5%85%83%E7%B4%A0%E3%80%82%0A%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%0A%0A%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B0%2C0%2C1%2C1%2C1%2C1%2C2%2C3%2C3%5D%0A%E8%BE%93%E5%87%BA%EF%BC%9A7%2C%20nums%20%3D%20%5B0%2C0%2C1%2C1%2C2%2C3%2C3%5D%0A%E8%A7%A3%E9%87%8A%EF%BC%9A%E5%87%BD%E6%95%B0%E5%BA%94%E8%BF%94%E5%9B%9E%E6%96%B0%E9%95%BF%E5%BA%A6%20length%20%3D%207%2C%20%E5%B9%B6%E4%B8%94%E5%8E%9F%E6%95%B0%E7%BB%84%E7%9A%84%E5%89%8D%E4%BA%94%E4%B8%AA%E5%85%83%E7%B4%A0%E8%A2%AB%E4%BF%AE%E6%94%B9%E4%B8%BA%C2%A00%2C%200%2C%201%2C%201%2C%202%2C%203%2C%203%20%E3%80%82%20%E4%B8%8D%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E6%95%B0%E7%BB%84%E4%B8%AD%E8%B6%85%E5%87%BA%E6%96%B0%E9%95%BF%E5%BA%A6%E5%90%8E%E9%9D%A2%E7%9A%84%E5%85%83%E7%B4%A0%E3%80%82%0A%C2%A0%0A%0A%E6%8F%90%E7%A4%BA%EF%BC%9A%0A%0A1%20%3C%3D%20nums.length%20%3C%3D%203%20*%20104%0A-104%20%3C%3D%20nums%5Bi%5D%20%3C%3D%20104%0Anums%20%E5%B7%B2%E6%8C%89%E5%8D%87%E5%BA%8F%E6%8E%92%E5%88%97%0A%E9%80%9A%E8%BF%87%E6%AC%A1%E6%95%B0236%2C606%E6%8F%90%E4%BA%A4%E6%AC%A1%E6%95%B0383%2C376%0A%0A%E8%A7%A3%E6%B3%95%E4%B8%80%3A%E5%8E%9F%E5%88%9B%0A1.%20Hash%E6%B3%95%2C%E8%AE%B0%E5%BD%95%E5%85%83%E7%B4%A0%E4%BB%A5%E5%8F%8A%E5%85%83%E7%B4%A0%E5%AF%B9%E5%BA%94%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0%0A%60%60%60Python%20%20%20%0Aclass%20Solution%3A%0A%20%20%20%20def%20removeDuplicates(self%2C%20nums%3A%20List%5Bint%5D)%20-%3E%20int%3A%0A%20%20%20%20%20%20%20%20%23%20%E8%B6%85%E8%BF%87%E4%B8%A4%E6%AC%A1%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8F%AA%E4%BF%9D%E7%95%99%E4%B8%A4%E6%AC%A1%2C%E6%89%80%E4%BB%A5%E8%BF%99%E9%81%93%E9%A2%98%E5%A4%A7%E6%A6%82%E7%8E%87%E9%9C%80%E8%A6%81%E8%AE%A1%E6%95%B0%0A%20%20%20%20%20%20%20%20if%20not%20nums%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200%0A%20%20%20%20%20%20%20%20dic%20%3D%20%7B%7D%0A%20%20%20%20%20%20%20%20for%20i%20in%20nums%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20dic%5Bi%5D%20%3D%20nums.count(i)%0A%20%20%20%20%20%20%20%20for%20k%2C%20v%20in%20dic.items()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20print(k%2C%20v)%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20v%20%3E%202%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nums.remove(k)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20v%20-%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20print(nums)%0A%20%20%20%20%20%20%20%20return%20len(nums)%0A%20%20%20%20%20%20%20%20%0A%60%60%60%0A%0A%E5%8F%8C%E6%8C%87%E9%92%88%E6%B3%95%3A%0A%60%60%60python%0Aclass%20Solution%3A%0A%20%20%20%20def%20removeDuplicates(self%2C%20nums%3A%20List%5Bint%5D)%20-%3E%20int%3A%0A%20%20%20%20%20%20%20%20%23%20%E8%B6%85%E8%BF%87%E4%B8%A4%E6%AC%A1%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8F%AA%E4%BF%9D%E7%95%99%E4%B8%A4%E6%AC%A1%2C%E6%89%80%E4%BB%A5%E8%BF%99%E9%81%93%E9%A2%98%E5%A4%A7%E6%A6%82%E7%8E%87%E9%9C%80%E8%A6%81%E8%AE%A1%E6%95%B0%0A%20%20%20%20%20%20%20%20n%20%3D%20len(nums)%0A%20%20%20%20%20%20%20%20if%20n%20%3C%202%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20n%0A%20%20%20%20%20%20%20%20fast%20%3D%202%0A%20%20%20%20%20%20%20%20slow%20%3D%202%0A%20%20%20%20%20%20%20%20while%20fast%20%3C%20n%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20slow%E5%85%B6%E5%AE%9E%E5%B7%B2%E7%BB%8F%E6%98%AF%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%85%83%E7%B4%A0%E4%BA%86%2C%E5%89%8D%E4%B8%A4%E4%B8%AA%E4%B8%8D%E7%94%A8%E7%AE%A1%2C%E8%A6%81%E6%8D%A2%E4%B9%9F%E6%98%AF%E4%BB%8E%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%85%83%E7%B4%A0%E5%BC%80%E5%A7%8B%E6%8D%A2%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20nums%5Bfast%5D%20!%3D%20nums%5Bslow-2%5D%3A%20%23%20slow-2%20%E5%92%8C%20fast%E5%AE%9A%E4%BD%8F%E5%8C%BA%E9%97%B4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nums%5Bslow%5D%20%3D%20nums%5Bfast%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20slow%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20fast%20%2B%3D%201%0A%20%20%20%20%20%20%20%20return%20slow%0A%20%20%20%20%20%20%20%20%0A%60%60%60</center></body></html>