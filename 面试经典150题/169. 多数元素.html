<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.6.12 (471320)"/><meta name="altitude" content="39.97940063476562"/><meta name="author" content="uq2bca3m"/><meta name="created" content="2023-06-02 07:22:24 +0000"/><meta name="latitude" content="39.99435424804688"/><meta name="longitude" content="116.4746552247098"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2023-06-02 07:33:59 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>169. 多数元素</title></head><body><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">给定一个大小为 n 的数组&nbsp;&nbsp;nums ，返回其中的多数元素。多数元素是指在数组中出现次数 大于&nbsp;&nbsp;⌊ n/2 ⌋&nbsp;&nbsp;的元素。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">你可以假设数组是非空的，并且给定的数组总是存在多数元素。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"/>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">示例&nbsp;&nbsp;1：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">输入：nums = [3,2,3]<br/>
输出：3<br/>
示例&nbsp;&nbsp;2：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">输入：nums = [2,2,1,1,1,2,2]<br/>
输出：2</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">提示：<br/>
n == nums.length<br/>
1 &lt;= n &lt;= 5 * 104<br/>
-109 &lt;= nums[i] &lt;= 109</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">进阶：尝试设计时间复杂度为 O(n)、空间复杂度为 O(1) 的算法解决此问题。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">通过次数698,854提交次数1,046,384</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">空间复杂度为n的解法:<br/>
Hash表法:记录每个元素出现的次数</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span>:</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">def</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">majorityElement</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(self, nums: List[int])</span> -&gt; int:</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">not</span> nums:
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        dic = {}
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> i <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> nums:
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> i <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">not</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> dic:
                dic[i] = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
            dic[i] += <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> k, v <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> dic.items():
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> v &gt; len(nums) // <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>:
                <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> k
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Boyer-Moore 投票算法<br/>
思路<br/>
如果我们把众数记为 +1，把其他数记为 −1，将它们全部加起来，显然和大于 0，从结果本身我们可以看出众数比其他数多。</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span>:</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">def</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">majorityElement</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(self, nums: List[int])</span> -&gt; int:</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">not</span> nums:
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        cnt = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        candidate = <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">None</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> num <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> nums:
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> cnt == <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>:
                candidate = num
            cnt += <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> candidate == num <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">else</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-1</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> candidate
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">候选人投票法:一家人投赞成,敌人投反对,只要自家人多,最终的结果一定是众数,投到别人混不下去为止,数量巨大就不会出现count小于0的情况</p>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%A4%A7%E5%B0%8F%E4%B8%BA%20n%20%E7%9A%84%E6%95%B0%E7%BB%84%C2%A0nums%20%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%85%B6%E4%B8%AD%E7%9A%84%E5%A4%9A%E6%95%B0%E5%85%83%E7%B4%A0%E3%80%82%E5%A4%9A%E6%95%B0%E5%85%83%E7%B4%A0%E6%98%AF%E6%8C%87%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%20%E5%A4%A7%E4%BA%8E%C2%A0%E2%8C%8A%20n%2F2%20%E2%8C%8B%C2%A0%E7%9A%84%E5%85%83%E7%B4%A0%E3%80%82%0A%0A%E4%BD%A0%E5%8F%AF%E4%BB%A5%E5%81%87%E8%AE%BE%E6%95%B0%E7%BB%84%E6%98%AF%E9%9D%9E%E7%A9%BA%E7%9A%84%EF%BC%8C%E5%B9%B6%E4%B8%94%E7%BB%99%E5%AE%9A%E7%9A%84%E6%95%B0%E7%BB%84%E6%80%BB%E6%98%AF%E5%AD%98%E5%9C%A8%E5%A4%9A%E6%95%B0%E5%85%83%E7%B4%A0%E3%80%82%0A%0A%C2%A0%0A%0A%E7%A4%BA%E4%BE%8B%C2%A01%EF%BC%9A%0A%0A%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B3%2C2%2C3%5D%0A%E8%BE%93%E5%87%BA%EF%BC%9A3%0A%E7%A4%BA%E4%BE%8B%C2%A02%EF%BC%9A%0A%0A%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B2%2C2%2C1%2C1%2C1%2C2%2C2%5D%0A%E8%BE%93%E5%87%BA%EF%BC%9A2%0A%C2%A0%0A%0A%E6%8F%90%E7%A4%BA%EF%BC%9A%0An%20%3D%3D%20nums.length%0A1%20%3C%3D%20n%20%3C%3D%205%20*%20104%0A-109%20%3C%3D%20nums%5Bi%5D%20%3C%3D%20109%0A%C2%A0%0A%0A%E8%BF%9B%E9%98%B6%EF%BC%9A%E5%B0%9D%E8%AF%95%E8%AE%BE%E8%AE%A1%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%BA%20O(n)%E3%80%81%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%BA%20O(1)%20%E7%9A%84%E7%AE%97%E6%B3%95%E8%A7%A3%E5%86%B3%E6%AD%A4%E9%97%AE%E9%A2%98%E3%80%82%0A%0A%E9%80%9A%E8%BF%87%E6%AC%A1%E6%95%B0698%2C854%E6%8F%90%E4%BA%A4%E6%AC%A1%E6%95%B01%2C046%2C384%0A%0A%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%BAn%E7%9A%84%E8%A7%A3%E6%B3%95%3A%0AHash%E8%A1%A8%E6%B3%95%3A%E8%AE%B0%E5%BD%95%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0%0A%60%60%60python%0Aclass%20Solution%3A%0A%20%20%20%20def%20majorityElement(self%2C%20nums%3A%20List%5Bint%5D)%20-%3E%20int%3A%0A%20%20%20%20%20%20%20%20if%20not%20nums%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200%0A%20%20%20%20%20%20%20%20dic%20%3D%20%7B%7D%0A%20%20%20%20%20%20%20%20for%20i%20in%20nums%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20i%20not%20in%20dic%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dic%5Bi%5D%20%3D%200%0A%20%20%20%20%20%20%20%20%20%20%20%20dic%5Bi%5D%20%2B%3D%201%0A%20%20%20%20%20%20%20%20for%20k%2C%20v%20in%20dic.items()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20v%20%3E%20len(nums)%20%2F%2F%202%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20k%0A%60%60%60%0A%0A%0ABoyer-Moore%20%E6%8A%95%E7%A5%A8%E7%AE%97%E6%B3%95%0A%E6%80%9D%E8%B7%AF%0A%E5%A6%82%E6%9E%9C%E6%88%91%E4%BB%AC%E6%8A%8A%E4%BC%97%E6%95%B0%E8%AE%B0%E4%B8%BA%20%2B1%EF%BC%8C%E6%8A%8A%E5%85%B6%E4%BB%96%E6%95%B0%E8%AE%B0%E4%B8%BA%20%E2%88%921%EF%BC%8C%E5%B0%86%E5%AE%83%E4%BB%AC%E5%85%A8%E9%83%A8%E5%8A%A0%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%98%BE%E7%84%B6%E5%92%8C%E5%A4%A7%E4%BA%8E%200%EF%BC%8C%E4%BB%8E%E7%BB%93%E6%9E%9C%E6%9C%AC%E8%BA%AB%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%87%BA%E4%BC%97%E6%95%B0%E6%AF%94%E5%85%B6%E4%BB%96%E6%95%B0%E5%A4%9A%E3%80%82%0A%60%60%60python%0Aclass%20Solution%3A%0A%20%20%20%20def%20majorityElement(self%2C%20nums%3A%20List%5Bint%5D)%20-%3E%20int%3A%0A%20%20%20%20%20%20%20%20if%20not%20nums%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200%0A%20%20%20%20%20%20%20%20cnt%20%3D%200%0A%20%20%20%20%20%20%20%20candidate%20%3D%20None%0A%20%20%20%20%20%20%20%20for%20num%20in%20nums%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20cnt%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20candidate%20%3D%20num%0A%20%20%20%20%20%20%20%20%20%20%20%20cnt%20%2B%3D%201%20if%20candidate%20%3D%3D%20num%20else%20-1%0A%20%20%20%20%20%20%20%20return%20candidate%0A%60%60%60%0A%E5%80%99%E9%80%89%E4%BA%BA%E6%8A%95%E7%A5%A8%E6%B3%95%3A%E4%B8%80%E5%AE%B6%E4%BA%BA%E6%8A%95%E8%B5%9E%E6%88%90%2C%E6%95%8C%E4%BA%BA%E6%8A%95%E5%8F%8D%E5%AF%B9%2C%E5%8F%AA%E8%A6%81%E8%87%AA%E5%AE%B6%E4%BA%BA%E5%A4%9A%2C%E6%9C%80%E7%BB%88%E7%9A%84%E7%BB%93%E6%9E%9C%E4%B8%80%E5%AE%9A%E6%98%AF%E4%BC%97%E6%95%B0%2C%E6%8A%95%E5%88%B0%E5%88%AB%E4%BA%BA%E6%B7%B7%E4%B8%8D%E4%B8%8B%E5%8E%BB%E4%B8%BA%E6%AD%A2%2C%E6%95%B0%E9%87%8F%E5%B7%A8%E5%A4%A7%E5%B0%B1%E4%B8%8D%E4%BC%9A%E5%87%BA%E7%8E%B0count%E5%B0%8F%E4%BA%8E0%E7%9A%84%E6%83%85%E5%86%B5</center></body></html>