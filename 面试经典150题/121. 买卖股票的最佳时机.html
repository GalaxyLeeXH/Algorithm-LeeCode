<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.6.12 (471320)"/><meta name="altitude" content="40"/><meta name="author" content="uq2bca3m"/><meta name="created" content="2023-06-03 05:03:19 +0000"/><meta name="latitude" content="39.99507503150195"/><meta name="longitude" content="116.4745483588442"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2023-06-03 05:12:21 +0000"/><meta name="content-class" content="yinxiang.markdown"/><title>121. 买卖股票的最佳时机</title></head><body><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">给定一个数组 prices ，它的第&nbsp;&nbsp;i 个元素&nbsp;&nbsp;prices[i] 表示一支给定股票第 i 天的价格。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">你只能选择 某一天 买入这只股票，并选择在 未来的某一个不同的日子 卖出该股票。设计一个算法来计算你所能获取的最大利润。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">返回你可以从这笔交易中获取的最大利润。如果你不能获取任何利润，返回 0 。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"/>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">示例 1：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">输入：[7,1,5,3,6,4]<br/>
输出：5<br/>
解释：在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，最大利润 = 6-1 = 5 。<br/>
注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格；同时，你不能在买入前卖出股票。<br/>
示例 2：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">输入：prices = [7,6,4,3,1]<br/>
输出：0<br/>
解释：在这种情况下, 没有交易完成, 所以最大利润为 0。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">提示：</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">1 &lt;= prices.length &lt;= 105<br/>
0 &lt;= prices[i] &lt;= 104</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">暴力法:</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span>:</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">def</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">maxProfit</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(self, prices: List[int])</span> -&gt; int:</span>
        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># 思路一: 暴力法,使用双重for循环,时间复杂度也在n方</span>
        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># 思路二: 动态规划</span>
        ans = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> i <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> range(len(prices)<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-1</span>):
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> j <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> range(i+<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>, len(prices)):
                ans = max(ans, prices[j]-prices[i])
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> ans
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">一次遍历法:<br/>
锚定历史最低点,看后面有没有赚头</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">Solution</span>:</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">def</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">maxProfit</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(self, prices: List[int])</span> -&gt; int:</span>
        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># 思路一: 暴力法,使用双重for循环,时间复杂度也在n方</span>
        <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># 思路二: 一次遍历之锚定一个历史最低点,然后每天就去加加减减</span>
        minprice = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">99999</span>  <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;"># 历史最低点</span>
        ans = <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> i <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">in</span> range(len(prices)):
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> prices[i] &lt; minprice:
                minprice = prices[i]
                print(minprice)
            ans = max(ans, prices[i] - minprice)
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> ans
</code></pre>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%20prices%20%EF%BC%8C%E5%AE%83%E7%9A%84%E7%AC%AC%C2%A0i%20%E4%B8%AA%E5%85%83%E7%B4%A0%C2%A0prices%5Bi%5D%20%E8%A1%A8%E7%A4%BA%E4%B8%80%E6%94%AF%E7%BB%99%E5%AE%9A%E8%82%A1%E7%A5%A8%E7%AC%AC%20i%20%E5%A4%A9%E7%9A%84%E4%BB%B7%E6%A0%BC%E3%80%82%0A%0A%E4%BD%A0%E5%8F%AA%E8%83%BD%E9%80%89%E6%8B%A9%20%E6%9F%90%E4%B8%80%E5%A4%A9%20%E4%B9%B0%E5%85%A5%E8%BF%99%E5%8F%AA%E8%82%A1%E7%A5%A8%EF%BC%8C%E5%B9%B6%E9%80%89%E6%8B%A9%E5%9C%A8%20%E6%9C%AA%E6%9D%A5%E7%9A%84%E6%9F%90%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%90%8C%E7%9A%84%E6%97%A5%E5%AD%90%20%E5%8D%96%E5%87%BA%E8%AF%A5%E8%82%A1%E7%A5%A8%E3%80%82%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%AE%97%E6%B3%95%E6%9D%A5%E8%AE%A1%E7%AE%97%E4%BD%A0%E6%89%80%E8%83%BD%E8%8E%B7%E5%8F%96%E7%9A%84%E6%9C%80%E5%A4%A7%E5%88%A9%E6%B6%A6%E3%80%82%0A%0A%E8%BF%94%E5%9B%9E%E4%BD%A0%E5%8F%AF%E4%BB%A5%E4%BB%8E%E8%BF%99%E7%AC%94%E4%BA%A4%E6%98%93%E4%B8%AD%E8%8E%B7%E5%8F%96%E7%9A%84%E6%9C%80%E5%A4%A7%E5%88%A9%E6%B6%A6%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%A0%E4%B8%8D%E8%83%BD%E8%8E%B7%E5%8F%96%E4%BB%BB%E4%BD%95%E5%88%A9%E6%B6%A6%EF%BC%8C%E8%BF%94%E5%9B%9E%200%20%E3%80%82%0A%0A%C2%A0%0A%0A%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%0A%0A%E8%BE%93%E5%85%A5%EF%BC%9A%5B7%2C1%2C5%2C3%2C6%2C4%5D%0A%E8%BE%93%E5%87%BA%EF%BC%9A5%0A%E8%A7%A3%E9%87%8A%EF%BC%9A%E5%9C%A8%E7%AC%AC%202%20%E5%A4%A9%EF%BC%88%E8%82%A1%E7%A5%A8%E4%BB%B7%E6%A0%BC%20%3D%201%EF%BC%89%E7%9A%84%E6%97%B6%E5%80%99%E4%B9%B0%E5%85%A5%EF%BC%8C%E5%9C%A8%E7%AC%AC%205%20%E5%A4%A9%EF%BC%88%E8%82%A1%E7%A5%A8%E4%BB%B7%E6%A0%BC%20%3D%206%EF%BC%89%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%96%E5%87%BA%EF%BC%8C%E6%9C%80%E5%A4%A7%E5%88%A9%E6%B6%A6%20%3D%206-1%20%3D%205%20%E3%80%82%0A%20%20%20%20%20%E6%B3%A8%E6%84%8F%E5%88%A9%E6%B6%A6%E4%B8%8D%E8%83%BD%E6%98%AF%207-1%20%3D%206%2C%20%E5%9B%A0%E4%B8%BA%E5%8D%96%E5%87%BA%E4%BB%B7%E6%A0%BC%E9%9C%80%E8%A6%81%E5%A4%A7%E4%BA%8E%E4%B9%B0%E5%85%A5%E4%BB%B7%E6%A0%BC%EF%BC%9B%E5%90%8C%E6%97%B6%EF%BC%8C%E4%BD%A0%E4%B8%8D%E8%83%BD%E5%9C%A8%E4%B9%B0%E5%85%A5%E5%89%8D%E5%8D%96%E5%87%BA%E8%82%A1%E7%A5%A8%E3%80%82%0A%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%0A%0A%E8%BE%93%E5%85%A5%EF%BC%9Aprices%20%3D%20%5B7%2C6%2C4%2C3%2C1%5D%0A%E8%BE%93%E5%87%BA%EF%BC%9A0%0A%E8%A7%A3%E9%87%8A%EF%BC%9A%E5%9C%A8%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E4%B8%8B%2C%20%E6%B2%A1%E6%9C%89%E4%BA%A4%E6%98%93%E5%AE%8C%E6%88%90%2C%20%E6%89%80%E4%BB%A5%E6%9C%80%E5%A4%A7%E5%88%A9%E6%B6%A6%E4%B8%BA%200%E3%80%82%0A%C2%A0%0A%0A%E6%8F%90%E7%A4%BA%EF%BC%9A%0A%0A1%20%3C%3D%20prices.length%20%3C%3D%20105%0A0%20%3C%3D%20prices%5Bi%5D%20%3C%3D%20104%0A%0A%E6%9A%B4%E5%8A%9B%E6%B3%95%3A%0A%60%60%60python%0Aclass%20Solution%3A%0A%20%20%20%20def%20maxProfit(self%2C%20prices%3A%20List%5Bint%5D)%20-%3E%20int%3A%0A%20%20%20%20%20%20%20%20%23%20%E6%80%9D%E8%B7%AF%E4%B8%80%3A%20%E6%9A%B4%E5%8A%9B%E6%B3%95%2C%E4%BD%BF%E7%94%A8%E5%8F%8C%E9%87%8Dfor%E5%BE%AA%E7%8E%AF%2C%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B9%9F%E5%9C%A8n%E6%96%B9%0A%20%20%20%20%20%20%20%20%23%20%E6%80%9D%E8%B7%AF%E4%BA%8C%3A%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%0A%20%20%20%20%20%20%20%20ans%20%3D%200%0A%20%20%20%20%20%20%20%20for%20i%20in%20range(len(prices)-1)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20j%20in%20range(i%2B1%2C%20len(prices))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ans%20%3D%20max(ans%2C%20prices%5Bj%5D-prices%5Bi%5D)%0A%20%20%20%20%20%20%20%20return%20ans%0A%60%60%60%0A%0A%E4%B8%80%E6%AC%A1%E9%81%8D%E5%8E%86%E6%B3%95%3A%0A%E9%94%9A%E5%AE%9A%E5%8E%86%E5%8F%B2%E6%9C%80%E4%BD%8E%E7%82%B9%2C%E7%9C%8B%E5%90%8E%E9%9D%A2%E6%9C%89%E6%B2%A1%E6%9C%89%E8%B5%9A%E5%A4%B4%0A%60%60%60python%0Aclass%20Solution%3A%0A%20%20%20%20def%20maxProfit(self%2C%20prices%3A%20List%5Bint%5D)%20-%3E%20int%3A%0A%20%20%20%20%20%20%20%20%23%20%E6%80%9D%E8%B7%AF%E4%B8%80%3A%20%E6%9A%B4%E5%8A%9B%E6%B3%95%2C%E4%BD%BF%E7%94%A8%E5%8F%8C%E9%87%8Dfor%E5%BE%AA%E7%8E%AF%2C%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B9%9F%E5%9C%A8n%E6%96%B9%0A%20%20%20%20%20%20%20%20%23%20%E6%80%9D%E8%B7%AF%E4%BA%8C%3A%20%E4%B8%80%E6%AC%A1%E9%81%8D%E5%8E%86%E4%B9%8B%E9%94%9A%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%8E%86%E5%8F%B2%E6%9C%80%E4%BD%8E%E7%82%B9%2C%E7%84%B6%E5%90%8E%E6%AF%8F%E5%A4%A9%E5%B0%B1%E5%8E%BB%E5%8A%A0%E5%8A%A0%E5%87%8F%E5%87%8F%0A%20%20%20%20%20%20%20%20minprice%20%3D%2099999%20%20%23%20%E5%8E%86%E5%8F%B2%E6%9C%80%E4%BD%8E%E7%82%B9%0A%20%20%20%20%20%20%20%20ans%20%3D%200%0A%20%20%20%20%20%20%20%20for%20i%20in%20range(len(prices))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20prices%5Bi%5D%20%3C%20minprice%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20minprice%20%3D%20prices%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(minprice)%0A%20%20%20%20%20%20%20%20%20%20%20%20ans%20%3D%20max(ans%2C%20prices%5Bi%5D%20-%20minprice)%0A%20%20%20%20%20%20%20%20return%20ans%0A%60%60%60</center></body></html>